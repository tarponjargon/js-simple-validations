!function(t){var e={};function r(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=12)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={disableValidations:!1,formValidateAttr:"data-jsv-form",formIsValid:"data-jsv-form-isvalid",disableIcons:"data-jsv-disable-icons",formValidCallback:"data-jsv-form-valid-callback",formInvalidCallback:"data-jsv-form-invalid-callback",disableInvalid:"data-jsv-disable-invalid",fieldValidators:"data-jsv-validators",fieldIsValid:"data-jsv-field-isvalid",prevVal:"data-jsv-field-prev-val",lenMin:"data-jsv-min",lenMax:"data-jsv-max",lenExact:"data-jsv-exact",minThresh:"data-jsv-min-selected",fieldCompare:"data-jsv-compare",fieldPattern:"data-jsv-pattern",ajaxEndpoint:"data-jsv-ajax-endpoint",ajaxKey:"data-jsv-ajax-key",ajaxValue:"data-jsv-ajax-value",ajaxProcessing:"data-jsv-ajax-processing",fieldContains:"data-jsv-contains",expireDate:"data-jsv-expiredate",dependentFields:"data-jsv-dependents",fieldDebounce:"data-jsv-debounce",invErrPrefix:"data-jsv-field-error-",fieldInvalidCallback:"data-jsv-field-invalid-callback-",fieldValidCallback:"data-jsv-field-valid-callback-",invMessage:"data-jsv-message-target",disableIcon:"data-jsv-disable-icon",fieldValid:"form-field-valid",validIcon:"form-field-valid-focusout",fieldInvalid:"form-field-invalid",invIcon:"form-field-invalid-focusout",fieldContainer:{className:"validate-input",addClasses:[]},formError:{className:"validate-form-error-message",addClasses:["well","validate-form-hidden-message"]},formSuccess:{className:"validate-form-success-message",addClasses:["well","validate-form-hidden-message"]},fieldError:{className:"validate-field-error-message",addClasses:[]},messageHidden:"validate-form-hidden-message",buttonSuccess:"success-button",buttonTooltip:"data-jsv-form-tooltip",buttonOriginalText:"data-original-text",formSuccessText:"data-jsv-form-submit-success",formIncompleteText:"data-jsv-form-incomplete",safeStringInput:!0,ajaxTimeout:8e3,debounceDefault:300,useCss:!0,useTooltip:!0,isValidColor:"#13bd3a",isInvalidColor:"#ff0000",isValidIcon:"\\2713",isInvalidIcon:"\\2716",fieldErrorFont:"normal 12px Helvetica, Arial, sans-serif",formShowMessages:!0,formSubmitHandler:"data-jsv-submit-handler",formInvalidMessage:"Please correct the errors below",formIncompleteMessage:"Please complete all required fields"}},function(t,e,r){"use strict";(function(e){var r=setTimeout;function n(){}function a(t){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(t,this)}function i(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,a._immediateFn(function(){var r=1===t._state?e.onFulfilled:e.onRejected;if(null!==r){var n;try{n=r(t._value)}catch(t){return void l(e.promise,t)}o(e.promise,n)}else(1===t._state?o:l)(e.promise,t._value)})):t._deferreds.push(e)}function o(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var r=e.then;if(e instanceof a)return t._state=3,t._value=e,void s(t);if("function"==typeof r)return void d((n=r,i=e,function(){n.apply(i,arguments)}),t)}t._state=1,t._value=e,s(t)}catch(e){l(t,e)}var n,i}function l(t,e){t._state=2,t._value=e,s(t)}function s(t){2===t._state&&0===t._deferreds.length&&a._immediateFn(function(){t._handled||a._unhandledRejectionFn(t._value)});for(var e=0,r=t._deferreds.length;e<r;e++)i(t,t._deferreds[e]);t._deferreds=null}function d(t,e){var r=!1;try{t(function(t){r||(r=!0,o(e,t))},function(t){r||(r=!0,l(e,t))})}catch(t){if(r)return;r=!0,l(e,t)}}a.prototype.catch=function(t){return this.then(null,t)},a.prototype.then=function(t,e){var r=new this.constructor(n);return i(this,new function(t,e,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=r}(t,e,r)),r},a.prototype.finally=function(t){var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){return e.reject(r)})})},a.all=function(t){return new a(function(e,r){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var n=Array.prototype.slice.call(t);if(0===n.length)return e([]);var a=n.length;function i(t,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var l=o.then;if("function"==typeof l)return void l.call(o,function(e){i(t,e)},r)}n[t]=o,0==--a&&e(n)}catch(t){r(t)}}for(var o=0;o<n.length;o++)i(o,n[o])})},a.resolve=function(t){return t&&"object"==typeof t&&t.constructor===a?t:new a(function(e){e(t)})},a.reject=function(t){return new a(function(e,r){r(t)})},a.race=function(t){return new a(function(e,r){for(var n=0,a=t.length;n<a;n++)t[n].then(e,r)})},a._immediateFn="function"==typeof e&&function(t){e(t)}||function(t){r(t,0)},a._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},t.exports=a}).call(this,r(10).setImmediate)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a=r(0),i=(n=a)&&n.__esModule?n:{default:n};e.default=function(){this.uniqueArray=function(t){return Array.isArray(t)&&t.length&&(t=t.filter(function(t,e,r){return r.indexOf(t)===e})),t},this.cleanArray=function(t){if(Array.isArray(t)&&t.length){for(var e=0;e<t.length;e++)t[e]=t[e]?t[e].trim():"";t=t.filter(function(t){return/\S/.test(t)}),t=this.uniqueArray(t)}return t}.bind(this),this.splitString=function(t){return this.cleanArray(t.split(","))}.bind(this),this.digitWord=function(t){try{var e=t&&!isNaN(t)?t:parseInt(t);e=e.toString();var r={1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine"};return e in r?r[e]:t}catch(e){return t}},this.createValidationElement=function(t,e,r){"undefined"!==r&&r||(r="div");var n=null;try{t.querySelector("."+e.className)||((n=document.createElement(r)).classList.add(e.className),e.addClasses&&Array.isArray(e.addClasses)&&Array.prototype.forEach.call(e.addClasses,function(t){n.classList.add(t)}))}catch(e){console.error("problem adding "+t+" element",e)}return n},this.safeString=function(t){if(t)try{var e={"<":"lt",">":"gt",'"':"quot","'":"apos","&":"amp","\r":"#10","\n":"#13"};return t.toString().replace(/[<>"'\r\n&]/g,function(t){return"&"+e[t]+";"})}catch(e){console.error("problem creating safeString on text",t,e)}},this.safeStringInput=function(t){return"undefined"!==t&&t&&i.default.safeStringInput?this.safeString(t):t},this.isElement=function(t){return t instanceof Element},this.disableElement=function(t,e){var r=e||!1;try{return!(!t||!this.isElement(t)||("FORM"===t.tagName?r?t.setAttribute("disabled",r):t.removeAttribute("disabled"):t.disabled=r,0))}catch(t){return console.error("problem disabling element",t),!1}},this.disableForm=function(t,e){if(!this.getAttr(t,i.default.disableInvalid))return!1;var r=e||!1;try{var n=null,a=t.getElementsByTagName("button");if(a&&a.length&&(n=a[0],this.disableElement(n,r),r&&i.default.useTooltip&&i.default.buttonTooltip)){var o=this.getAttr(t,i.default.formIncompleteText),l=o||i.default.formIncompleteMessage;n.setAttribute(i.default.buttonTooltip,l)}return!0}catch(t){return console.error("problem disabling element",t),!1}}.bind(this),this.getAttr=function(t,e){var r=null;if(!t||!e||!this.isElement(t))return null;try{var n=t.getAttribute(e)||null;n&&(r=this.safeString(n.trim()),r=("string"!=typeof(r="string"==typeof(r=isNaN(r)?r:parseInt(r))&&"true"===r.toLowerCase()||r)||"false"!==r.toLowerCase())&&r)}catch(t){console.error("getAttr problem",t)}return r},this.getValue=function(t){try{switch(t.type){case"text":case"textarea":case"password":case"hidden":case"color":case"date":case"datetime":case"datetime-local":case"email":case"file":case"image":case"month":case"number":case"range":case"search":case"tel":case"time":case"url":case"week":return this.safeStringInput(t.value);case"select-multiple":var e=[];for(r=0;r<t.options.length;r++)t.options[r].selected&&(e[e.length]=this.safeStringInput(t.options[r].value)||"");return e;case"select-one":var r=t.selectedIndex;return-1==r?"":this.safeStringInput(t.options[r].value)||"";case"button":case"reset":case"submit":return"";case"radio":case"checkbox":return t.checked?this.safeStringInput(t.value):"";default:if("radio"===t[0].type){for(r=0;r<t.length;r++)if(t[r].checked)return this.safeStringInput(t[r].value);return""}if("checkbox"==t[0].type){var n=[];for(r=0;r<t.length;r++)t[r].checked&&(n[e.length]=this.safeStringInput(t[r].value));return n}return console.error("unknown field type:",t.name,t),this.safeStringInput(t.value)}}catch(t){console.error("getValue function switch statement failed",t)}return""},this.showFormMessage=function(t,e,r){if(!(t&&e&&r&&i.default.formShowMessages))return!1;try{var n=t.querySelector("."+e);return!(!n||!this.isElement(n)||(n.innerHTML=r,n.classList.remove(i.default.messageHidden),0))}catch(t){return console.error("fproblem showing form message",t),!1}},this.hideFormMessage=function(t,e){if(!t||!e)return!1;try{var r=t.querySelector("."+e);return!!r&&(r.innerHTML="",r.classList.add(i.default.messageHidden),!0)}catch(t){return console.error("fproblem hiding form message",t),!1}},this.capitalize=function(t){return t?t.charAt(0).toUpperCase()+t.substring(1):null},this.nameToString=function(t){return t?t.match(/[A-Za-z][a-z]*/g).map(this.capitalize).join(" "):null},this.alphaNum=function(t){return t?t.replace(/[^a-z0-9 \-]/gi,""):null}}},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a=r(0),i=(n=a)&&n.__esModule?n:{default:n};var o=' [data-jsv-form-tooltip] { position: relative; cursor: pointer; outline: none!important; } [data-jsv-form-tooltip]:before, [data-jsv-form-tooltip] { position: relative; cursor: pointer; } [data-jsv-form-tooltip]:before, [data-jsv-form-tooltip]:after { position: absolute; visibility: hidden; -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"; filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=0); opacity: 0; -webkit-transition: opacity 0.2s ease-in-out, visibility 0.2s ease-in-out, -webkit-transform 0.2s cubic-bezier(0.71, 1.7, 0.77, 1.24); -moz-transition: opacity 0.2s ease-in-out, visibility 0.2s ease-in-out, -moz-transform 0.2s cubic-bezier(0.71, 1.7, 0.77, 1.24); transition: opacity 0.2s ease-in-out, visibility 0.2s ease-in-out, transform 0.2s cubic-bezier(0.71, 1.7, 0.77, 1.24); -webkit-transform: translate3d(0, 0, 0); -moz-transform: translate3d(0, 0, 0); transform: translate3d(0, 0, 0); pointer-events: none; } [data-jsv-form-tooltip]:hover:before, [data-jsv-form-tooltip]:hover:after { visibility: visible; -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"; filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100); opacity: 1; } [data-jsv-form-tooltip]:before { border: 6px solid transparent; background: transparent; content: ""; } [data-jsv-form-tooltip]:after { padding: 8px; min-width: 120px; white-space: nowrap; background-color: #000; background-color: hsla(0, 0%, 20%, 0.9); color: #fff; content: attr(data-jsv-form-tooltip); font-size: 12px; line-height: 1.2; } [data-jsv-form-tooltip]:before, [data-jsv-form-tooltip]:after { bottom: 100%; left: 50%; } [data-jsv-form-tooltip]:before { margin-left: -6px; margin-bottom: -12px; border-top-color: #000; border-top-color: hsla(0, 0%, 20%, 0.9); } [data-jsv-form-tooltip]:after { margin-left: -60px; z-index: 1; } [data-jsv-form-tooltip]:hover:before, [data-jsv-form-tooltip]:hover:after { -webkit-transform: translateY(-12px); -moz-transform: translateY(-12px); transform: translateY(-12px); } .validate-form-error-message { color: '+i.default.isInvalidColor+"; } .validate-form-error-message.well { border-color: "+i.default.isInvalidColor+"; } .validate-form-success-message { color: "+i.default.isValidColor+"; } .validate-form-success-message.well { border-color: "+i.default.isValidColor+"; } .validate-field-error-message { width: 100%; display: block; color: "+i.default.isInvalidColor+"; font: "+i.default.fieldErrorFont+"; } .validate-form-hidden-message { display: none; } .button-success, .button-success:hover { background-color: "+i.default.isValidColor+"; } .validate-input { position: relative; } .validate-input.form-field-invalid input, .validate-input.form-field-invalid textarea, .validate-input.form-field-invalid select { border: 1px solid "+i.default.isInvalidColor+"; } .validate-input.form-field-valid input, .validate-input.form-field-valid textarea, .validate-input.form-field-valid select { border: 1px solid "+i.default.isValidColor+'; } .validate-input.form-field-valid-focusout::after { content: "'+i.default.isValidIcon+'"; color: '+i.default.isValidColor+'; right:20px; top:9px; position:absolute; } .validate-input.form-field-invalid-focusout::after { content: "'+i.default.isInvalidIcon+'"; color: '+i.default.isInvalidColor+"; right:20px; top:8px; position:absolute; } ";e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a=r(1),i=(n=a)&&n.__esModule?n:{default:n};e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=void 0,a=void 0,o=void 0,l=[];return function(){var s=function(t){return"function"==typeof t?t():t}(e),d=(new Date).getTime(),u=!n||d-n>s;n=d;for(var f=arguments.length,c=Array(f),v=0;v<f;v++)c[v]=arguments[v];if(u&&r.leading)return r.accumulate?new i.default.resolve(t.call(this,[c])).then(function(t){return t[0]}):new i.default.resolve(t.call.apply(t,[this].concat(c)));if(a?clearTimeout(o):a=function(){var t={};return t.promise=new i.default(function(e,r){t.resolve=e,t.reject=r}),t}(),l.push(c),o=setTimeout(function(){var e=a;clearTimeout(o),new i.default.resolve(r.accumulate?t.call(this,l):t.apply(this,l[l.length-1])).then(e.resolve,e.reject),l=[],a=null}.bind(this),s),r.accumulate){var m=l.length-1;return a.promise.then(function(t){return t[m]})}return a.promise}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(r(1)),a=o(r(0)),i=o(r(2));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){var e=new i.default;return{require:{events:[],validator:function(e,r,a){return new n.default(function(n,i){if(void 0!==r&&/\S/.test(r))n();else{var o=t.getCustomErrors(e);i(a&&a in o?o[a]:"This field can't be empty")}})}},email:{events:[],validator:function(e,r,a){return new n.default(function(n,i){if(void 0!==r&&/\S/.test(r)&&/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(r).toLowerCase()))n();else{var o=t.getCustomErrors(e);i(a&&a in o?o[a]:"Please enter a valid e-mail address")}})}},length:{events:[],validator:function(r,i,o){return new n.default(function(n,l){var s=e.getAttr(r,a.default.lenMin)||1,d=e.getAttr(r,a.default.lenMax)||1;if(void 0!==i&&/\S/.test(i)&&i.length>=s&&i.length<=d)n();else{var u=t.getCustomErrors(r);l(o&&o in u?u[o]:"Should be between "+s+" and "+d+" characters")}})}},exact:{events:[],validator:function(r,i,o){return new n.default(function(n,l){var s=e.getAttr(r,a.default.lenExact)||1;if(void 0!==i&&/\S/.test(i)&&i.length===s)n();else{var d=t.getCustomErrors(r);l(o&&o in d?d[o]:"Should be "+s+" characters")}})}},compare:{events:[],validator:function(r,i,o){return new n.default(function(n,l){var s,d,u=e.getAttr(r,a.default.fieldCompare),f=u?t.form.querySelector('[name="'+u+'"]'):null,c=f?e.getValue(f):null,v=(s="Does not match",(d=t.getLabel(r))&&(s+=" "+d),s);if(void 0!==i&&/\S/.test(i)&&i===c)n();else{var m=t.getCustomErrors(r);l(o&&o in m?m[o]:v)}})}},number:{events:[],validator:function(e,r,a){return new n.default(function(n,i){if(void 0!==r&&/\S/.test(r)&&!isNaN(r))n();else{var o=t.getCustomErrors(e);i(a&&a in o?o[a]:"Should be a number")}})}},numberexact:{events:[],validator:function(r,i,o){return new n.default(function(n,l){var s=e.getAttr(r,a.default.lenExact)||1;if(void 0!==i&&/\S/.test(i)&&!isNaN(i)&&i.length===s)n();else{var d=t.getCustomErrors(r);l(o&&o in d?d[o]:"Should be a "+s+" character number")}})}},numberrange:{events:[],validator:function(r,i,o){return new n.default(function(n,l){var s=e.getAttr(r,a.default.lenMin)||1,d=e.getAttr(r,a.default.lenMax)||1;if(void 0!==i&&/\S/.test(i)&&i.length>=s&&i.length<=d)n();else{var u=t.getCustomErrors(r);l(o&&o in u?u[o]:"Should be a number between "+s+" and "+d+" characters")}})}},zipcode:{events:[],validator:function(e,r,a){return new n.default(function(n,i){if(void 0!==r&&/\S/.test(r)&&/^\d{5}(?:[-\s]\d{4})?$/.test(r))n();else{var o=t.getCustomErrors(e);i(a&&a in o?o[a]:"Please check your Zip/Postal Code")}})}},creditcard:{events:[],validator:function(e,r,a){return new n.default(function(n,i){var o,l=(o=[0,2,4,6,8,1,3,5,7,9],function(t){for(var e,r=t.length,n=1,a=0;r;)e=parseInt(t.charAt(--r),10),a+=(n^=1)?o[e]:e;return a&&a%10==0});if(void 0!==r&&/\S/.test(r)&&/^\d{13,}$/.test(r)&&l(r))n();else{var s=t.getCustomErrors(e);i(a&&a in s?s[a]:"Please check your credit card number")}})}},phone:{events:[],validator:function(e,r,a){return new n.default(function(n,i){if(void 0!==r&&/\S/.test(r)&&/((?:\+|00)[17](?: |\-)?|(?:\+|00)[1-9]\d{0,2}(?: |\-)?|(?:\+|00)1\-\d{3}(?: |\-)?)?(0\d|\([0-9]{3}\)|[1-9]{0,3})(?:((?: |\-)[0-9]{2}){4}|((?:[0-9]{2}){4})|((?: |\-)[0-9]{3}(?: |\-)[0-9]{4})|([0-9]{7}))/.test(r))n();else{var o=t.getCustomErrors(e);i(a&&a in o?o[a]:"Please enter a valid phone number")}})}},pattern:{events:[],validator:function(e,r,i){return new n.default(function(n,o){var l=e.getAttribute(a.default.fieldPattern);if(void 0!==l&&l&&l.length){var s=new RegExp(l,"g");if(void 0!==r&&/\S/.test(r)&&s.test(r))n();else{var d=t.getCustomErrors(e);o(i&&i in d?d[i]:"Incorrect format")}}else n("Problem reading pattern")})}},contains:{events:[],validator:function(r,i,o){return new n.default(function(n,l){var s=e.getAttr(r,a.default.fieldContains);if(s=s&&s.length?s.toLowerCase():null,void 0!==i&&/\S/.test(i)&&-1!==i.toLowerCase().indexOf(s))n();else{var d=t.getCustomErrors(r);l(o&&o in d?d[o]:'Should contain "'+s+'"')}})}},url:{events:[],validator:function(e,r,a){return new n.default(function(n,i){if(void 0!==r&&/\S/.test(r)&&/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(String(r).toLowerCase()))n();else{var o=t.getCustomErrors(e);i(a&&a in o?o[a]:'Please enter a valid URL (starts with "http" or "https")')}})}},requiremin:{events:[],validator:function(r,i,o){return new n.default(function(n,i){var l=r.getAttribute("name"),s=e.getAttr(r,a.default.minThresh)||1,d=t.form.querySelectorAll("[name="+l+"]"),u=0;if(d&&d[0]&&Array.prototype.forEach.call(d,function(t){e.getValue(t)&&u++}),u>=s)n();else{var f=t.getCustomErrors(r);i(o&&o in f?f[o]:"Please select "+e.digitWord(s))}})}},dependent:{events:[],validator:function(r,i,o){try{return new n.default(function(n,i){var l=e.getAttr(r,a.default.dependentFields),s=l?e.splitString(l):[],d=s.length?Array.prototype.map.call(s,function(t){return'[name="'+t+'"]'}):[],u=d.length?t.form.querySelectorAll(d.join(",")):[],f=0,c=[];if(Array.prototype.forEach.call(u,function(e){t.checkValid(e)?f++:c.push(e)}),f>=u.length)n();else{var v=null,m=t.getCustomErrors(r);if(o&&o in m)v=m[o];else{var p=c.length?Array.prototype.map.call(c,function(e){return t.getLabel(e)}):[];v=p.length?"Please complete "+p.join(", "):null,c.length&&t.checkIfCurrent(r)&&t.setFieldsInvalid(c,o)}i(v)}})}catch(t){console.error("problem with dependent validator",t)}}},expireddate:{events:[],validator:function(r,i,o){return new n.default(function(n,i){var l={},s=[];if(Array.prototype.forEach.call(["year","month","day"],function(r){var n=t.form.querySelector("["+a.default.expireDate+'="'+r+'"]'),i=n?e.getValue(n):null;n&&i&&s.push(n),"year"===r&&(l[r]=i&&!isNaN(i)&&2===i.length?"20"+i.toString():i),"month"!==r&&"day"!==r||(l[r]=i&&!isNaN(i)&&1===i.length?"0"+i.toString():i)}),!l.year||!l.month)return console.log("expiredate not complete, resolving"),n(),!0;var d=(new Date).toISOString().slice(0,10).replace(/-/g,"");if(d=l.day?parseInt(d):parseInt(d.substring(0,6)),parseInt(l.year+l.month+l.day)>=d)console.log("expiredate validator resolving"),n(t.setFieldsValid(s,o));else{var u=t.getCustomErrors(r),f=o&&o in u?u[o]:"Appears to be expired - please check date";console.log("expiredate validator rejecting"),i(f)}})}},ajax:{events:[],validator:function(r,i,o){return new n.default(function(n,i){try{if(t.checkIfCurrent(r)){var l=t.getErrorContainer(r);if(l){var s=e.getAttr(r,a.default.ajaxProcessing);l.innerText=s||"Checking..."}var d=r.getAttribute("name"),u=e.getAttr(r,a.default.ajaxEndpoint),f=e.getAttr(r,a.default.ajaxKey),c=e.getAttr(r,a.default.ajaxValue);if(u&&f&&null!==c&&!/^http/.test(u.toLowerCase())){var v=u+"?"+d+"="+e.getValue(r);console.log("ajaXUrl",v,"ajaxKey",f,"ajaxValue",c);var m=new XMLHttpRequest;m.open("GET",v),m.timeout=a.default.ajaxTimeout,m.setRequestHeader("Content-Type","application/json"),m.onload=function(){if(200===m.status){var e=JSON.parse(m.responseText);if(console.log("raw ajax response",e,"data[ajaxKey]",e[f]),e&&e[f]===c)n(t.forceEvent(r));else{var a=t.getCustomErrors(r),l=o&&o in a?a[o]:"Does not validate";i(l)}}else console.error("response from endpoint != 200",m.status),n(t.forceEvent(r))},m.onerror=function(e){console.error("error on xhr request",e,m),n(t.forceEvent(r))},m.ontimeout=function(e){console.error("ajax request timeout",e),n(t.forceEvent(r))},m.send()}}else"submit"===t.eventType&&n()}catch(t){console.error("problem executing ajax validator",t),n()}})}}}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=s(r(1)),i=s(r(0)),o=s(r(6)),l=s(r(2));function s(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e,r){var s=new l.default,d=this;if(this.field=t,this.form=e,this.event=r,this.eventType=this.event&&"type"in this.event?this.event.type:null,this.validators=new o.default(this),"customValidators"in window.validateOptions&&"object"===n(window.validateOptions.customValidators))for(var u in window.validateOptions.customValidators)this.validators[u]=window.validateOptions.customValidators[u];this.checkValid=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.field;return s.getAttr(t,i.default.fieldIsValid)},this.getPreviousVal=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.field).getAttribute(i.default.prevVal)},this.checkIfCurrent=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.field).getAttribute("name");return t&&t===d.event.target.name?t:null},this.checkElig=function(t){var e=!1;try{t&&t in d.validators&&"events"in d.validators[t]&&Array.isArray(d.validators[t].events)&&(0===d.validators[t].events.length||-1!==d.validators[t].events.indexOf(d.eventType))&&(e=!0)}catch(e){console.error("Problem getting eligible events for validator",t,e)}return e},this.getValidationTypes=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.field,e=[],r=s.getAttr(t,i.default.fieldValidators);if(r){var n=s.splitString(r);if(n&&n.length)for(var a=0;a<n.length;a++)d.checkElig(n[a])&&e.push(n[a])}return e},this.getErrorContainer=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.field;try{var r=s.getAttr(t,i.default.invMessage),n=r?e.querySelector("#"+r):null;return n||(t.parentNode.nextElementSibling.classList.contains(i.default.fieldError.className)?t.parentNode.nextElementSibling:null)}catch(e){console.error("problem finding errorcontainer on",t,e)}},this.getValidationContainer=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.field;try{return t.parentNode.classList.contains(i.default.fieldContainer.className)?t.parentNode:null}catch(e){console.error("problem finding getValidationContainer on",t,e)}},this.getCustomErrors=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.field,e={};return Array.prototype.forEach.call(d.getValidationTypes(t),function(r){var n=s.getAttr(t,i.default.invErrPrefix+r);n&&(e[r]=n)}),e},this.getLabel=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.field,e=null;try{var r=t.parentNode.previousElementSibling;e=r&&"label"===r.tagName.toLowerCase()?s.alphaNum(r.innerText):s.nameToString(t.getAttribute("name"))}catch(t){}return e},this.getValidationCallbacks=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.field,e={valid:{},invalid:{}};return Array.prototype.forEach.call(d.getValidationTypes(t),function(r){var n=s.getAttr(t,i.default.fieldValidCallback+r);n&&(e.valid[r]=n);var a=s.getAttr(t,i.default.fieldInvalidCallback+r);a&&(e.invalid[r]=a)}),e},this.setFieldsValid=function(t,e){try{return Array.isArray(t)&&t.length&&Array.prototype.forEach.call(t,function(t){d.field.getAttribute("name")!==t.getAttribute("name")&&d.valid(t,e)}),!0}catch(t){return console.error("problem running setFieldsValid",t),!1}},this.setFieldsInvalid=function(t,e){console.log("SETFIELDSINVALID",t);try{return Array.isArray(t)&&t.length&&Array.prototype.forEach.call(t,function(t){d.field.getAttribute("name")!==t.getAttribute("name")&&d.invalid(t,e,null,!0)}),!0}catch(t){return console.error("problem running setFieldsInvalid",t),!1}},this.forceEvent=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.field;return setTimeout(function(){console.log("forceEvent Running on ",t.getAttribute("name"));var e=new Event("change");t.dispatchEvent(e)},100),!0},this.validate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.field;try{var e=d.getValidationTypes(t),r=s.getValue(t);return new a.default(function(n,o){d.checkIfCurrent(t)&&t.setAttribute(i.default.prevVal,r),e&&e.length||(console.error("in FieldValidator but there are no validationTypes to run"),n());var l,s,u,f=null;(l=e,s=t,u=r,l.reduce(function(t,e){return t.then(function(){return f=e,d.validators[e].validator(s,u,e)})},new a.default.resolve)).then(function(){d.valid(t,f),n()}).catch(function(e){d.invalid(t,f,e),o()})})}catch(e){console.error("Problem performing validation on",t,e)}},this.reset=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.field;return new a.default(function(e,r){try{t.setAttribute(i.default.fieldIsValid,"true"),t.removeAttribute(i.default.prevVal);var n=d.getValidationContainer(t);n&&Array.prototype.forEach.call([i.default.fieldValid,i.default.validIcon,i.default.fieldInvalid,i.default.invIcon],function(t){n.classList.remove(t)});var a=d.getErrorContainer(t);a&&(a.innerText=""),e()}catch(t){console.error("FieldValidator problem in reset field function",t),r()}})},this.valid=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.field,e=arguments[1];try{var n=t.getAttribute("name"),a=d.form.querySelectorAll("[name="+n+"]");Array.prototype.forEach.call(a,function(t){t.setAttribute(i.default.fieldIsValid,"true")});var o=d.getValidationContainer(t);o&&(o.classList.remove(i.default.fieldInvalid),o.classList.remove(i.default.invIcon),o.classList.add(i.default.fieldValid),s.getAttr(d.form,i.default.disableIcons)||s.getAttr(t,i.default.disableIcon)||o.classList.add(i.default.validIcon));var l=d.getErrorContainer(t);l&&(l.innerText="");var u=d.getValidationCallbacks(t);if(d.checkIfCurrent(t)&&"focusout"===d.eventType&&e&&e in u.valid&&u.valid[e]in window&&"function"==typeof window[u.valid[e]])try{setTimeout(function(){window[u.valid[e]](r,d.form,n,e,"valid")},100)}catch(t){console.error("Problem executing valid callback on field:",n,t)}}catch(t){console.error("FieldValidator problem in valid function",t)}return!0},this.invalid=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.field,e=arguments[1],n=arguments[2],a=arguments[3];try{var o=t.getAttribute("name"),l=n;Array.isArray(n)&&(l=s.cleanArray(n).join(". ")+".");var u=d.form.querySelectorAll("[name="+o+"]");if(Array.prototype.forEach.call(u,function(t){t.removeAttribute(i.default.fieldIsValid)}),d.checkIfCurrent(t)||a){var f=d.getValidationContainer(t);f&&(f.classList.remove(i.default.fieldValid),f.classList.remove(i.default.validIcon),f.classList.add(i.default.fieldInvalid),s.getAttr(d.form,i.default.disableIcons)||s.getAttr(t,i.default.disableIcon)||f.classList.add(i.default.invIcon));var c=d.getErrorContainer(t);l&&c&&(c.innerText=l);var v=d.getValidationCallbacks(t);if(e&&e in v.invalid&&v.invalid[e]in window&&"function"==typeof window[v.invalid[e]])try{setTimeout(function(){window[v.invalid[e]](r,d.form,o,e,"invalid",l)},100)}catch(t){console.error("Problem executing valid callback on field:",o,t)}}}catch(t){console.error("FieldValidator problem in field invalid function",t)}return!1}}},function(t,e){var r,n,a=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function l(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var s,d=[],u=!1,f=-1;function c(){u&&s&&(u=!1,s.length?d=s.concat(d):f=-1,d.length&&v())}function v(){if(!u){var t=l(c);u=!0;for(var e=d.length;e;){for(s=d,d=[];++f<e;)s&&s[f].run();f=-1,e=d.length}s=null,u=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];d.push(new m(t,e)),1!==d.length||u||l(v)},m.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=p,a.addListener=p,a.once=p,a.off=p,a.removeListener=p,a.removeAllListeners=p,a.emit=p,a.prependListener=p,a.prependOnceListener=p,a.listeners=function(t){return[]},a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,e,r){(function(t,e){!function(t,r){"use strict";if(!t.setImmediate){var n,a,i,o,l,s=1,d={},u=!1,f=t.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(t);c=c&&c.setTimeout?c:t,"[object process]"==={}.toString.call(t.process)?n=function(t){e.nextTick(function(){m(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?t.MessageChannel?((i=new MessageChannel).port1.onmessage=function(t){m(t.data)},n=function(t){i.port2.postMessage(t)}):f&&"onreadystatechange"in f.createElement("script")?(a=f.documentElement,n=function(t){var e=f.createElement("script");e.onreadystatechange=function(){m(t),e.onreadystatechange=null,a.removeChild(e),e=null},a.appendChild(e)}):n=function(t){setTimeout(m,0,t)}:(o="setImmediate$"+Math.random()+"$",l=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(o)&&m(+e.data.slice(o.length))},t.addEventListener?t.addEventListener("message",l,!1):t.attachEvent("onmessage",l),n=function(e){t.postMessage(o+e,"*")}),c.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var a={callback:t,args:e};return d[s]=a,n(s),s++},c.clearImmediate=v}function v(t){delete d[t]}function m(t){if(u)setTimeout(m,0,t);else{var e=d[t];if(e){u=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(r,n)}}(e)}finally{v(t),u=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,r(3),r(8))},function(t,e,r){(function(t){var n=Function.prototype.apply;function a(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new a(n.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new a(n.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},r(9),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,r(3))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=l(r(1)),a=l(r(7)),i=l(r(0)),o=l(r(2));function l(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){var e=new o.default,r=this;this.form=t,this.button=function(){try{return t.getElementsByTagName("button")[0]}catch(t){console.error("FormValidator problem getting button",t)}}(),this.hasValid=function(){try{return e.getAttr(t,i.default.formIsValid)}catch(t){console.error("FormValidator self.hasValid function failed",t)}},this.getFormFields=function(){var e=[];try{e=t.querySelectorAll("["+i.default.fieldValidators+"]")}catch(t){console.error("could not get nodeList for ["+i.default.fieldValidators+"]",t)}return e},this.getValidationFields=function(){var t={validate:[],reset:[]};return Array.prototype.forEach.call(r.getFormFields(),function(r){try{var n=!1,a=!1,o=e.getAttr(r,i.default.fieldValidators),l=o&&-1!==o.toLowerCase().indexOf("require"),s=e.getValue(r),d=r.getAttribute(i.default.prevVal);s?n=!d||s!==d:l?n=!0:a=!0,n&&t.validate.push(r),a&&t.reset.push(r)}catch(t){console.error("could not determine if field is needs validation",t)}}),t},this.incompleteMessage=e.getAttr(r.form,i.default.formIncompleteText)||i.default.formIncompleteMessage,this.checkValid=function(){var t=r.getFormFields(),e=0;return Array.prototype.forEach.call(t,function(t){t.getAttribute(i.default.fieldIsValid)&&e++}),console.log("in checkValid",t.length,e),e>=t.length},this.validate=function(e){try{return new n.default(function(i,o){var l=r.getValidationFields()||[],s=[new n.default.resolve];Array.prototype.forEach.call(l.validate,function(r){var n=new a.default(r,t,e);s.push(n.validate())}),Array.prototype.forEach.call(l.reset,function(r){var n=new a.default(r,t,e);s.push(n.reset())}),new n.default.all(s).then(function(){}).catch(function(){}).finally(function(){r.checkValid()?i(r.valid(e)):o(r.invalid(e))})})}catch(t){console.error("Problem in FormValidator validate()",t)}},this.valid=function(n){try{r.hasValid()||r.form.setAttribute(i.default.formIsValid,"true"),e.disableForm(t,!1),i.default.useTooltip&&i.default.buttonTooltip&&r.button.getAttribute(i.default.buttonTooltip)&&r.button.removeAttribute(i.default.buttonTooltip);var a=e.getAttr(r.form,i.default.formValidCallback);if("submit"!==n.type&&a&&a in window&&"function"==typeof window[a])try{setTimeout(function(){window[a](n,r.form,"valid")},100)}catch(t){console.error("Problem executing valid callback on form:",a,t)}console.log("form VALID\n\n")}catch(t){console.error("problem in validated function",t)}return!0},this.invalid=function(t){try{r.hasValid()&&r.form.removeAttribute(i.default.formIsValid),e.disableForm(r.form,!0),i.default.useTooltip&&i.default.buttonTooltip&&r.button.setAttribute(i.default.buttonTooltip,r.incompleteMessage),i.default.buttonSuccess&&r.button.classList.contains(i.default.buttonSuccess)&&r.button.classList.remove(i.default.buttonSuccess),i.default.buttonOriginalText&&r.button.getAttribute(i.default.buttonOriginalText)&&(r.button.innerText=e.getAttr(r.button,i.default.buttonOriginalText),r.button.removeAttribute(i.default.buttonOriginalText)),e.hideFormMessage(r.form,i.default.formError.className),e.hideFormMessage(r.form,i.default.formSuccess.className);var n=e.getAttr(r.form,i.default.formInvalidCallback);if("submit"===t.type&&n&&n in window&&"function"==typeof window[n])try{setTimeout(function(){window[n](t,r.form,"invalid")},100)}catch(t){console.error("Problem executing invalid callback on form:",n,t)}console.log("form is INVALID\n\n")}catch(t){console.error("problem in reset function",t)}return!1}}},function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=d(r(2)),i=d(r(11)),o=d(r(5)),l=d(r(0)),s=d(r(4));function d(t){return t&&t.__esModule?t:{default:t}}"undefined"!=typeof window&&window&&document.addEventListener("DOMContentLoaded",function(){u()});var u=function(){void 0!==window.validateOptions&&null!==window.validateOptions&&"object"===n(window.validateOptions)||(window.validateOptions={});var t=new a.default;if("cfg"in window.validateOptions&&"object"===n(window.validateOptions.cfg))for(var e in window.validateOptions.cfg)l.default[e]=window.validateOptions.cfg[e];if("undefined"!==l.default.disableValidations&&l.default.disableValidations)return console.log("validations exiting"),!1;if("undefined"!==l.default.useCss&&l.default.useCss)try{var r=document.createElement("style");r.innerHTML=s.default,document.head.appendChild(r)}catch(t){console.error("problem creating stylesheet")}Array.prototype.forEach.call(document.querySelectorAll("["+l.default.formValidateAttr+"]"),function(e){var r=t.createValidationElement(e,l.default.formError);r&&e.insertBefore(r,e.firstChild);var n=t.createValidationElement(e,l.default.formSuccess);n&&e.appendChild(n),t.disableForm(e,!0);var a=new i.default(e);Array.prototype.forEach.call(e.querySelectorAll("["+l.default.fieldValidators+"]"),function(e){if("radio"!==e.type&&"checkbox"!==e.type){try{var r=t.createValidationElement(e.parentNode,l.default.fieldContainer);r&&(e.parentNode.appendChild(r),r.appendChild(e))}catch(t){console.error("problem wrapping field "+e+" with containing div"+l.default.fieldContainer)}try{var n=t.createValidationElement(e.parentNode,l.default.fieldError);n&&e.parentNode.parentNode.insertBefore(n,e.parentNode.nextElementSibling)}catch(t){console.error("problem adding element "+l.default.fieldError)}}try{var i=t.getValue(e);"undefined"!==i&&/\S/.test(i)&&a.validate({type:"focusout",target:{name:e.name}})}catch(t){console.error("error checking for field value",t)}var s=t.getAttr(e,l.default.fieldDebounce),d=s&&!isNaN(s)?s:l.default.debounceDefault,u=(0,o.default)(a.validate,d),f=function(t){console.log("debounceWrapper",event.type,e.getAttribute("name")),u(t).then(function(){}).catch(function(){})};e.addEventListener("input",f,!1),e.addEventListener("change",f,!1),e.addEventListener("focusout",f,!1)}),e.addEventListener("submit",function(r){r.preventDefault(),a.validate(r).then(function(){console.log("success!");var n=l.default.formSubmitHandler?t.getAttr(e,l.default.formSubmitHandler):null,a=n&&n in window&&"function"==typeof window[n]?window[n]:null;if(a)try{a(r,e,"valid")}catch(t){}else console.log("submitting form the traditional way"),e.submit()}).catch(function(){t.showFormMessage(e,l.default.formError.className,l.default.formInvalidMessage)})})})}}]);